<div class="admin-container">
  <h2>ðŸ”§ Admin - User Management</h2>

  <table border="1" class="user-table">
    <thead>
      <tr>
        <th>Full Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td *ngIf="editingUser?.id !== user.id">{{ user.firstName }} {{ user.lastName }}</td>
        <td *ngIf="editingUser?.id === user.id">
          <input [(ngModel)]="editingUser!.firstName" placeholder="First Name" />
          <input [(ngModel)]="editingUser!.lastName" placeholder="Last Name" />
        </td>

        <td *ngIf="editingUser?.id !== user.id">{{ user.email }}</td>
        <td *ngIf="editingUser?.id === user.id">
          <input [(ngModel)]="editingUser!.email" />
        </td>

        <td *ngIf="editingUser?.id !== user.id">{{ user.role }}</td>
        <td *ngIf="editingUser?.id === user.id">
          <select [(ngModel)]="editingUser!.role">
            <option value="USER">USER</option>
            <option value="ADMIN">ADMIN</option>
            <option value="DOCTOR">DOCTOR</option>
          </select>
        </td>

        <td>
          <button *ngIf="editingUser?.id !== user.id" (click)="startEditing(user)">Edit</button>
          <button *ngIf="editingUser?.id === user.id" (click)="saveUserChanges()">Save</button>
          <button *ngIf="editingUser?.id === user.id" (click)="cancelEditing()">Cancel</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
